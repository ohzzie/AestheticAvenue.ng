/* Aesthetic Avenue brand: pastel, airy, feminine */
:root {
  --blush: #FFE0EF;         /* Blush Pink */
  --bubblegum: #FF66C4;     /* Accent / buttons */
  --ivory: #FFF5E1;         /* Soft Ivory background zones */
  --mauve: #D291BC;         /* Secondary */
  --charcoal: #3A3A3A;      /* Text */
  --bg: #FFFFFF;
  --border: #f0d7e5;
  --maxw: 1080px;
}

* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }
body {
  font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  background: var(--bg); color: var(--charcoal); line-height: 1.6;
}

.container { max-width: var(--maxw); margin: 0 auto; padding: 1rem; }
.header, .footer { border-bottom: 1px solid var(--border); }
.header {
  background: #fff;
  position: sticky;
  top: 0;
  z-index: 900;
  backdrop-filter: saturate(1.2) blur(6px);
}
.footer { border-top: 1px solid var(--border); border-bottom: none; margin-top: 2rem; }
.nav { display: flex; gap: 1.1rem; align-items: center; flex-wrap: wrap; }
.nav a {
  color: var(--charcoal);
  text-decoration: none;
  padding: .4rem 0;
  border-bottom: 2px solid transparent;
}
.nav a[href*="/collections/addons"],
.nav a[href*="/collections/aesthetic"] { display: none !important; }
.nav a:hover { border-bottom-color: var(--bubblegum); }
.nav a.active { border-bottom-color: var(--bubblegum); color: var(--charcoal); }

.brand { font-weight: 700; letter-spacing: .02em; font-size: 1.2rem; display:flex; align-items:center; gap:.5rem; }
.brand img { height: 28px; width: 28px; border-radius: 6px; }
.spacer { flex: 1; }

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 1rem;
}

.card {
  border: 1px solid var(--border); border-radius: 1rem; overflow: hidden; background: #fff;
}
.card img { width: 100%; height: 240px; object-fit: cover; display: block; }
.card-body { padding: .9rem; display: grid; gap: .35rem; }
.price { font-weight: 700; }

.btn {
  appearance: none; border: 1px solid var(--bubblegum); background: var(--bubblegum); color: #fff;
  padding: .65rem 1rem; border-radius: .8rem; cursor: pointer; font-weight: 700; text-decoration: none; display: inline-block;
}
.btn:hover { opacity: .93; }
.btn-outline { background: transparent; color: var(--bubblegum); border-color: var(--bubblegum); }
.btn-outline:hover { background: #ffe7f3; }

.badge { font-size: .75rem; color: #7a3e64; }

hr { border: 0; border-top: 1px solid var(--border); margin: 1rem 0; }

h1, h2, h3 { line-height: 1.2; margin: .5rem 0; }
h1 { font-size: 1.6rem; font-family: "Shrikhand", "Genty", cursive, "Poppins", sans-serif; }
h2 { font-size: 1.25rem; }
p { color: #3A3A3A; }

table { width: 100%; border-collapse: collapse; }
th, td { text-align: left; padding: .6rem; border-bottom: 1px solid var(--border); }

input, textarea {
  width: 100%; padding: .65rem .75rem; border: 1px solid var(--border); border-radius: .8rem; font: inherit; background:#fff;
}
label { font-weight: 600; font-size: .9rem; }
.form-row { display: grid; gap: .6rem; margin-bottom: .9rem; }
.form-grid { display: grid; gap: .9rem; grid-template-columns: 1fr 1fr; }
@media (max-width: 640px) { .form-grid { grid-template-columns: 1fr; } }

.alert { padding: .6rem .8rem; border: 1px solid var(--border); border-left-width: 4px; border-radius: .8rem; margin: .7rem 0; background:#fff; }
.alert.success { border-left-color: #16a34a; }
.alert.info { border-left-color: #2563eb; }
.alert.warning { border-left-color: #f59e0b; }
.alert.danger { border-left-color: #dc2626; }

.img-hero {
  width: 100%; height: 420px; object-fit: cover; border-radius: 1rem; border: 1px solid var(--border);
  background: var(--ivory);
}

.product-gallery { display: grid; gap: 1rem; grid-template-columns: 1fr; }
.product-gallery img { width: 100%; height: 420px; object-fit: cover; border: 1px solid var(--border); border-radius: 1rem; }

.footer-cols { display: grid; grid-template-columns: 1fr 1fr; gap: .5rem; }
@media (max-width: 640px) { .footer-cols { grid-template-columns: 1fr; } }

.small { font-size: .9rem; color: #6b6b6b; }
.center { text-align: center; }

.hero {

  padding: 4rem 1rem;
  margin-bottom: 2rem;
  color: #111;
  text-align: center;
}

.hero-content {
  max-width: 600px;
  margin: 0 auto;
}

.hero h1 {
  font-size: 2.5rem;
  margin-bottom: 1rem;
}

.hero-subtitle {
  font-size: 1.2rem;
  margin-bottom: 2rem;
  color: #666;
}

.hero-buttons {
  display: flex;
  gap: 1rem;
  justify-content: center;
}

.hero-buttons .btn {
  min-width: 120px;
}

/* Products grid â€” used on home and search pages */
.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 1rem;
  align-items: start;
}

/* Product card container - ensure predictable sizing */
.product-card {
  display: flex;
  flex-direction: column;
  gap: .6rem;
}

/* Image wrapper enforcing 4:3 aspect ratio.
   Preferred: modern browsers use aspect-ratio.
   Fallback: padding-bottom ensures 4:3 on older browsers. */
.product-card .img-wrap {
  width: 100%;
  aspect-ratio: 4 / 3;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  background: #fff;
}

/* Fallback for browsers without aspect-ratio support */
.product-card .img-wrap {
  height: 0;
  padding-bottom: 75%; /* 3 / 4 = 75% -> enforces 4:3 */
}

/* Make the image cover the 4:3 area */
.product-card .img-wrap img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* If your product_card template doesn't have an .img-wrap,
   the following ensures single <img> directly inside .product-card
   is constrained, though wrapper is preferred for consistency. */
.product-card > img {
  width: 100%;
  height: auto;
  display: block;
  object-fit: cover;
}

/* Responsive tweaks */
@media (max-width: 640px) {
  .products-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 420px) {
  .products-grid {
    grid-template-columns: repeat(1, 1fr);
  }
}

/* Product detail page layout */
.product-detail {
  display: grid;
  grid-template-columns: minmax(auto, 500px) 1fr;
  gap: 2rem;
  margin: 2rem 0;
}

.product-media {
  position: sticky;
  top: 2rem;
}

.product-image {
  border-radius: 8px;
  overflow: hidden;
  background: #fff;
  margin-bottom: 1rem;
}

.product-image img {
  width: 100%;
  height: auto;
  display: block;
}

.product-thumbnails {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.product-thumbnails .thumb {
  width: 60px;
  height: 60px;
  object-fit: cover;
  border-radius: 4px;
  cursor: pointer;
  border: 2px solid transparent;
}

.product-thumbnails .thumb:hover {
  border-color: #ddd;
}

.product-info {
  min-width: 0;
}

.product-info h1 {
  font-size: 1.8rem;
  margin: 0 0 1rem;
}

.product-info .price {
  font-size: 1.4rem;
  font-weight: 600;
  margin-bottom: 1.5rem;
}

/* Styled select dropdowns */
.styled-select {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background: #fff url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='12' height='6'><path d='M0 0h12L6 6z' fill='%23333'/></svg>") no-repeat right 12px center;
  border: 1px solid #ddd;
  border-radius: 6px;
  padding: 0.7rem 2.5rem 0.7rem 1rem;
  width: 100%;
  font-size: 0.95rem;
  font-family: inherit;
  cursor: pointer;
  transition: border-color 0.15s ease;
}

.styled-select:hover {
  border-color: #999;
}

.styled-select:focus {
  border-color: #333;
  outline: none;
}

/* Hide CSRF token display */
input[name="csrf_token"] {
  display: none;
}

/* Product form layout */
.add-to-cart {
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
  max-width: 300px;
  margin: 2rem 0;
}

.variants label,
.quantity label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 500;
}

.variants, .quantity {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.variants select, .quantity select {
  padding: 0.5rem;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.description {
  margin-top: 2rem;
  font-size: 0.95rem;
  line-height: 1.6;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .product-detail {
    grid-template-columns: 1fr;
  }
  
  .product-media {
    position: static;
  }
}
/* Trend hero + slider */
.trend-hero{display:grid;grid-template-columns:320px 1fr;gap:1rem;align-items:stretch;margin:1rem 0 1.25rem;background:linear-gradient(90deg,rgba(216,74,159,.12),rgba(216,74,159,.06));border:1px solid var(--border);border-radius:16px;padding:1rem}
.trend-left{display:grid;gap:.4rem;align-content:center;background:linear-gradient(180deg,rgba(216,74,159,.18),rgba(216,74,159,.08));border-radius:12px;padding:1rem;color:#351b2b}
.trend-brand{font-weight:700;font-size:1.25rem}
.trend-hashtag{font-weight:700;font-size:1.6rem}
.trend-slider{display:grid;grid-auto-flow:column;grid-auto-columns:minmax(180px,240px);gap:.9rem;overflow-x:auto;padding:.25rem .25rem .5rem;scroll-snap-type:x mandatory}
.trend-card{position:relative;display:block;background:#fff;border:2px solid #efe7ef;border-radius:12px;overflow:hidden;scroll-snap-align:start}
.trend-card img{display:block;width:100%;height:220px;object-fit:cover}
.trend-price{position:absolute;left:.5rem;bottom:.5rem;background:#fff;color:#351b2b;border:1px solid #ead6e5;border-radius:999px;padding:.2rem .5rem;font-weight:700;font-size:.95rem;box-shadow:0 2px 6px rgba(0,0,0,.08)}
.cat-rail{display:grid;grid-auto-flow:column;grid-auto-columns:minmax(100px,120px);gap:1rem;overflow-x:auto;padding:.25rem .25rem 1rem;margin-bottom:1rem}
.cat{display:grid;gap:.4rem;justify-items:center;text-decoration:none;color:var(--charcoal)}
.cat img{width:88px;height:88px;border-radius:50%;object-fit:cover;border:2px solid #efe7ef;background:#fff}
.cat-label{font-size:.9rem;max-width:10ch;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
@media (max-width:780px){.trend-hero{grid-template-columns:1fr}.trend-left{min-height:140px}.trend-slider{grid-auto-columns:minmax(160px,200px)}}
/* Collection index circle fallback */
.cat-dot{width:88px;height:88px;border-radius:50%;background:#fff;border:2px solid #efe7ef;display:grid;place-items:center;font-weight:700;color:var(--bubblegum)}

/* --- Collections page additions (AA contrast, keyboard focus) --- */
.visually-hidden { position:absolute !important; width:1px; height:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap; }
.sr-status { position: absolute; left: -9999px; height: 1px; width: 1px; overflow: hidden; }

.filters { margin-bottom: 1rem; }
.filters-form { display: grid; gap: .75rem; font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; }
.filters-row { display: grid; gap: .75rem; grid-template-columns: 1fr 200px; align-items: end; }
@media (max-width: 720px) { .filters-row { grid-template-columns: 1fr; } }
.filters-group label { display:block; font-weight:600; font-size:.9rem; margin-bottom:.3rem; color: var(--charcoal); }
.filters-chips { display: flex; flex-wrap: wrap; gap: .5rem; }
.chip {
  border:1px solid var(--bubblegum);
  background: #fff;
  color: var(--charcoal);
  padding: .45rem .7rem; border-radius: 999px; font-weight:600; cursor:pointer;
  font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
}
.chip:focus-visible { outline: 3px solid var(--bubblegum); outline-offset: 2px; }
.chip[aria-pressed="true"] { background: var(--blush); color: var(--charcoal); border-color: var(--bubblegum); }

/* Inputs/selects brand focus */
.filters-group input[type="search"],
.filters-group select {
  border: 1px solid var(--border);
  border-radius: .6rem;
  padding: .55rem .65rem;
  background: #fff;
  color: var(--charcoal);
  font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
}
.filters-group input[type="search"]:focus-visible,
.filters-group select:focus-visible { outline: 3px solid var(--bubblegum); outline-offset: 2px; }

.collections-section { margin-top: 1rem; }
.collections-grid { display:grid; gap: 1rem; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); align-items:start; list-style:none; padding:0; margin:0; }
.collection-card { display:block; }
.collection-card__inner { border: 1px solid var(--border); border-radius: 12px; overflow: hidden; background: #fff; height: 100%; display:flex; flex-direction:column; }
.collection-card__media { display:block; position: relative; aspect-ratio: 4 / 3; background:#fff; }
.collection-card__media img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block; }
.collection-card__body { padding: .85rem; display:grid; gap:.4rem; font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; }
.collection-card__title { font-size: 1.05rem; margin:0; color: var(--charcoal); }
.collection-card__desc { color: var(--charcoal); margin:0; }
.collection-card__meta { font-size:.9rem; color: var(--mauve); }

/* --- Product image 3:4 aspect, shrink large images (no crop) --- */
.product-media { display: grid; gap: .75rem; align-content: start; }
.product-image {
  position: relative;
  width: 100%;
  max-width: 520px;
  aspect-ratio: 3 / 4;                  /* enforce 3:4 area */
  border: 1px solid var(--border);
  border-radius: 12px;
  background: #fff;
  display: grid;
  place-items: center;                   /* center image inside */
  overflow: hidden;                      /* hide overflow if any */
}
.product-image img {
  display: block;
  max-width: 100%;
  max-height: 100%;
  width: auto;                           /* keep natural proportions */
  height: auto;
  object-fit: contain;                   /* shrink-to-fit, do not crop */
}

.product-thumbnails { display:grid; grid-auto-flow: column; gap:.5rem; overflow-x:auto; }
.product-thumbnails .thumb { width:68px; height:68px; object-fit:cover; border:1px solid var(--border); border-radius:8px; background:#fff; cursor:pointer; }

/* Ensure clear focus for all links */
a:focus-visible { outline: 3px solid var(--bubblegum); outline-offset: 2px; border-radius: 6px; }


/* Footer: hide Admin and Sitemap links only in footer */
.footer a[href="/sitemap.xml"],
.footer a[href*="/admin"] { display: none !important; }
